/*!
 * Copyright 2006 - 2015 TubePress LLC (http://tubepress.com/).
 * This file is part of TubePress Pro.
 * REDISTRIBUTION PROHIBITED. Please see http://tubepress.com/license for details.
 */
;var tubePressVimeoPlayerApi;(function(e,h,k){var d=k.Beacon,c=k.Lang.Utils,a="tubepress",b="vimeo",l=".",g=a+l+b+l+"allApisAvailable",f=(function(){var n=null,q=function(){if(n!==null){return}n=k.PlayerApi.EventUtility},o=function(r){q();n.publishStart(r)},m=function(r){q();n.publishPause(r)},p=function(r){q();n.publishStop(r)};return{onPlay:o,onPause:m,onFinish:p}}()),j=(function(){var t=false,n=c.isDefined,s=false,m=function(){return n(h.Froogaloop)},p=function(){return n(k.PlayerApi)},r=function(){if(s){return s}return p()&&m()},q=function(){s=true;d.publish(g)},o=function(){if(t||m()){return}t=true;var u=h.location.protocol+"//a.vimeocdn.com/js/froogaloop2.min.js";k.DomInjector.loadJs(u);c.callWhenTrue(q,r,250)};return{allApisLoaded:r,loadVimeoApi:o}}()),i=(function(){var q=[],u={},r=function(v,w){if(!v){f.onPlay(w)}},o=function(v){return v.replace(/[^a-z0-9]/ig,"")},m=function(w){var v=o(w),x=u[v];if(!c.isDefined(x)){return}x.addEvent("play",f.onPlay);x.addEvent("pause",f.onPause);x.addEvent("finish",f.onFinish);x.api("paused",r);delete u[v]},s=function(x,z){var w=h.document.getElementById(z),A=new Froogaloop(w),v=o(z),y={domId:z,froog:A,guid:z,provider:b,itemId:x};u[v]=A;A.addEvent("ready",m);k.PlayerApi.Registry.register(z,y)},p=function(w,x){var v=e("#"+x);v.load(function(){s(w,x)})},n=function(){var v=0,w;for(v;v<q.length;v+=1){w=q[v];p(w[0],w[1])}},t=function(v,w){if(j.allApisLoaded()){p(v,w)}else{q.push([v,w]);if(q.length===1){j.loadVimeoApi();d.subscribe(g,n)}}};return{register:t}}());k.AsyncUtil.processQueueCalls("tubePressVimeoPlayerApi",i)}(jQuery,window,TubePress));