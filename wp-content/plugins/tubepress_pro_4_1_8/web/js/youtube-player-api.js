/*!
 * Copyright 2006 - 2015 TubePress LLC (http://tubepress.com/).
 * This file is part of TubePress Pro.
 * REDISTRIBUTION PROHIBITED. Please see http://tubepress.com/license for details.
 */
;var tubePressYouTubePlayerApi;(function(f,e,g){var q=g.Beacon,b=g.Lang.Utils,r=g.Logger,j="tubepress",c=r.on(),p="youtube",i=".",m=true,n=!m,l=j+i+p+i+"allApisAvailable",h=function(s){if(c){r.log(j+" YT API: "+s)}},o=function(s){if(c){r.dir(s)}},d=(function(){var z=n,s=b.isDefined,y=n,x=function(){return s(e.YT)&&s(e.YT.Player)},t=function(){return s(g.PlayerApi)},u=function(){if(y){return y}return t()&&x()},v=function(){y=m;q.publish(l)},w=function(){if(z||x()){return}z=m;var A="https://www.youtube.com/player_api";g.DomInjector.loadJs(A);b.callWhenTrue(v,u,250)};return{allApisLoaded:u,loadYouTubeApi:w}}()),k=(function(){var w=function(A,x){var z=g.PlayerApi,y=z.EventUtility;switch(x){case 1:y.publishStart(A);break;case 2:y.publishPause(A);break;case 0:y.publishStop(A);break;case 3:y.publishBuffering(A);break;case -1:break;default:h("Unknown event: "+x);break}},u=function(z){var y="object",x="string";if(typeof HTMLElement===y){return z instanceof HTMLElement}return z&&typeof z===y&&z!==null&&z.nodeType===1&&typeof z.nodeName===x},v=function(z){var A=z.target,B="IFRAME",x,y;for(x in A){if(A.hasOwnProperty(x)){y=A[x];if(u(y)&&y.nodeName===B){return y.id}}}return null},s=function(y){var z=v(y),x=y.data;if(z===null){return}w(z,x)},t=function(y){var z=g.PlayerApi,x=z.EventUtility,A=v(y);if(A===null){return}h("YT error");o(y);x.publishError(A)};return{onStateChange:s,onError:t}}()),a=(function(){var s=[],v={events:{onError:k.onError,onStateChange:k.onStateChange}},w=function(x,z){var A=new e.YT.Player(z,v),y={guid:z,domId:z,itemId:x,provider:p,ytPlayer:A};g.PlayerApi.Registry.register(z,y)},t=function(){var y=0,z;for(y;y<s.length;y+=1){z=s[y];w(z[0],z[1])}},u=function(x,y){if(d.allApisLoaded()){w(x,y)}else{s.push([x,y]);if(s.length===1){d.loadYouTubeApi();q.subscribe(l,t)}}};return{register:u}}());g.AsyncUtil.processQueueCalls("tubePressYouTubePlayerApi",a)}(jQuery,window,TubePress));